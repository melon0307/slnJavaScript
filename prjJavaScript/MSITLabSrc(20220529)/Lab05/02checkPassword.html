<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <title>02checkPassword.html</title>
</head>
<body>
    <label>Password:</label>
    <input type="password" id="idPwd" size="6" /><!-- 瀏覽器執行到此標籤會建立一個物件-->
    <span id="idsp"></span><br/>    
    <input type="button" id="idbut" value="checkPassword" onclick="checkPwd();" />

    <script>
        function checkPwd(){
            //取得idPwd元素
            let PwdObj = document.getElementById("idPwd");
            console.log(PwdObj);//<input type="password" id="idPwd" size="6" />

            //取得idPwd元素值
            let PwdObjVal = PwdObj.value;
            console.log(typeof PwdObjVal);//string
            console.log(PwdObjVal);//輸入的值
            
            let PwdObjLen = PwdObjVal.length;
            let sp = document.getElementById("idsp");
            let flag1 = false, flag2 = false, flag3 = false;
            //判斷元素值是否為空白，密碼長度是否大於6
            if (PwdObjVal == "")
                sp.innerHTML = "you must enter";
            else if (PwdObjLen >= 6) {

            //如果長度是否大於6，判 斷是否包含字母、數字、特殊符號
                //sp.innerHTML = ">=6"
                for (let i = 0; i < PwdObjLen; i++) {
                    let ch = PwdObjVal.toLowerCase().charAt(i);
                    if (ch >= 'a' && ch <= 'z')
                        flag1 = true;
                    else if (ch >= '0' && ch <= '9')
                        flag2 = true;
                    else if (ch.lastIndexOf('!@#$%^&*'))
                        flag3 = true;
                    if (flag1 && flag2 && flag3)
                        break;
                }
                if (flag1 && flag2 && flag3)
                    sp.innerHTML = "correct";
                else
                    sp.innerHTML = "incorrect";
            }
            else if (PwdObjLen <= 6) {
                sp.innerHTML = "密碼長度需大於6個字"
            }
        }    
    </script>
</body>
</html>
